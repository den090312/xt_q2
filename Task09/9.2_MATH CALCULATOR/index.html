<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8"/>
		<title>MATH CALCULATOR</title>
	</head>
	<body style="padding: 25px;">
		<input type="text" id="inputString" placeholder="Введите арифметическое выражение" value="" style="width: 500px;">
		<br>
		<br>
		<input type="button" value="Посчитать" onclick="PrintResult()">
		<br>
		<br>		
		<input type="text" id="outputString" placeholder="Результат" style="width: 500px;" readonly = true;>
	</body>
</html>

<script>

function PrintResult()
{
	var output = document.getElementById("outputString");
	output.value = "";

	ExpressionIsCorrect() ? output.value = GetResult() : alert("Expression is not correct!");  	
}

function ExpressionIsCorrect() 
{
	return document.getElementById("inputString").value.match(/^((\s*(\d+(\.\d)*)\s*)*(\s*[+\-*/]\s*)*)+=$/g);
}	

function GetResult()
{
	var inputString = document.getElementById("inputString").value;

	inputString = inputString.split(' ').filter(element => element != '').join("");

	var numbers = inputString.match(/\d+(\.\d)*/g);
	var operators = inputString.match(/[+\-*/=]/g);
		
	var result = numbers[0];
	var i = 0;

	do
	{
		result = OperationResult(result, numbers[i+1], operators[i]);
		i++;
	}
	while (operators[i] != "=");

	return result.toFixed(2); 
}

function IsOperator(inputChar)
{
	return inputChar.match(/[+\-*/]/g) != null;	
}

function IsNumber(inputChar)
{
	return inputChar.match(/\d+(\.\d)*/g) != null;	
}

function OperationResult(result, number, operator) 
{
	switch (operator) 
	{
		case "+":
			return Number(result) + Number(number);		
		case "-":
			return Number(result) - Number(number);		
		case "*":
			return Number(result) * Number(number);		
		case "/":
			return Number(result) / Number(number);	
	}
}
	
</script>
