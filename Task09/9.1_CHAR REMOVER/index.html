<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8"/>
		<title>CHAR REMOVER</title>
	</head>
	<body style="padding: 25px;">
		<input type="text" id="inputString" placeholder="Введите строку" value="" style="width: 500px;">
		<br>
		<br>
		<input type="button" value="Напечатать результат" onclick="PrintResultString()">
		<br>
		<br>		
		<input type="text" id="outputString" placeholder="Результат" style="width: 500px;">
	</body>
</html>

<script>

	function PrintResultString() 
	{
		var wordArray = GetWordArray();
		var duplicateLetterArray = GetDuplicateLetterArray(wordArray);
		
		document.getElementById("outputString").value = GetResultString(duplicateLetterArray); 
	}
	
	function GetWordArray()
	{
		inputString = document.getElementById("inputString").value.trim();
		var punctuations  = " \t?!:;,.";
		
		for (var i = 0; i < inputString.length; i++) 
		{
			if (punctuations.includes(inputString[i]))
			{
				inputString = inputString.replace(inputString[i], ' ');
			}
		}
		
		return inputString.split(' ').filter(element => element != '');
	}
	
	function GetDuplicateLetterArray(wordArray)
	{
		var duplicateLetterArray = [];
		
		for (var i = 0; i < wordArray.length; i++) 
		{
			var word = wordArray[i];
			
			for (var j = 0; j < word.length; j++)
			{
				var letter = word[j];
				
				if (word.indexOf(letter) != word.lastIndexOf(letter))
				{
					if (!duplicateLetterArray.includes(letter))
					{
						duplicateLetterArray.push(letter);
					}
				}
			}
		}
		
		return duplicateLetterArray; 
	}
	
	function GetResultString(duplicateLetterArray)
	{
		inputString = document.getElementById("inputString").value;
		
		var resultString = "";
		
		for (var i = 0; i < inputString.length; i++) 
		{
			if (!duplicateLetterArray.includes(inputString[i]))
			{
				resultString += inputString[i]; 
			}			
		}
		
		return resultString;
	}
	
</script>
